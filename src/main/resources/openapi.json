{"openapi":"3.1.0","info":{"title":"API tareas","description":"La API de tareas permite gestionar tareas y usuarios. Incluye autenticación, gestión de tareas y usuarios.","contact":{"name":"Diego Lizarazo","url":"https://juanliz.com","email":"contact@juanliz.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Usuarios","description":"Operaciones para la gestión de usuarios del sistema. Solo accesible para administradores."},{"name":"Tareas","description":"Operaciones para la gestión de tareas"},{"name":"Autenticación","description":"Operaciones para la autenticación de usuarios"}],"paths":{"/users":{"put":{"tags":["Usuarios"],"summary":"Actualizar usuario","description":"Actualiza la información de un usuario existente en el sistema.","operationId":"updateUser","parameters":[{"name":"user","in":"query","required":true,"schema":{"$ref":"#/components/schemas/UserUpdateDto"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserGetDto"}}}}},"security":[{"Bearer Authentication":[]}]},"post":{"tags":["Usuarios"],"summary":"Crear usuario","description":"Crea un nuevo usuario en el sistema.","operationId":"createUser","parameters":[{"name":"user","in":"query","required":true,"schema":{"$ref":"#/components/schemas/User"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserGetDto"}}}}},"security":[{"Bearer Authentication":[]}]}},"/tasks":{"get":{"tags":["Tareas"],"summary":"Obtener todas las tareas del usuario","description":"Devuelve una lista paginada de las tareas creadas por el usuario o asignadas a él.","operationId":"getAllTasks","parameters":[{"name":"name","in":"query","description":"Filtrar por nombre de la tarea","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","description":"Filtrar por estado de la tarea (PENDING, IN_PROGRESS, COMPLETED)","required":false,"schema":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageTask"}}}}},"security":[{"Bearer Authentication":[]}]},"put":{"tags":["Tareas"],"summary":"Actualizar tarea","description":"Actualiza una tarea existente","operationId":"updateTask","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskUpdateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"security":[{"Bearer Authentication":[]}]},"post":{"tags":["Tareas"],"summary":"Crear nueva tarea","description":"Crea una nueva tarea","operationId":"createTask","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCreateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"security":[{"Bearer Authentication":[]}]}},"/tasks/{id}/users":{"post":{"tags":["Tareas"],"summary":"Asignar usuarios a una tarea","description":"Asigna uno o más usuarios a una tarea específica","operationId":"assignUsersToTask","parameters":[{"name":"id","in":"path","description":"ID de la tarea","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignUsersRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"security":[{"Bearer Authentication":[]}]},"delete":{"tags":["Tareas"],"summary":"Quitar usuarios de una tarea","description":"Quita uno o más usuarios de una tarea específica","operationId":"removeUsersFromTask","parameters":[{"name":"id","in":"path","description":"ID de la tarea","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignUsersRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"security":[{"Bearer Authentication":[]}]}},"/auth/login":{"post":{"tags":["Autenticación"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/tasks/{id}":{"get":{"tags":["Tareas"],"summary":"Obtener tarea por ID","description":"Devuelve una tarea específica por su ID","operationId":"getTaskById","parameters":[{"name":"id","in":"path","description":"ID de la tarea a buscar","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"security":[{"Bearer Authentication":[]}]},"delete":{"tags":["Tareas"],"summary":"Eliminar tarea","description":"Elimina una tarea por su ID","operationId":"deleteTask","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}},"security":[{"Bearer Authentication":[]}]}},"/auth/me":{"get":{"tags":["Autenticación"],"operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}}},"components":{"schemas":{"UserUpdateDto":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"userRole":{"type":"string","enum":["ADMIN","USER"]}},"required":["id"]},"UserGetDto":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string","minLength":1},"username":{"type":"string","minLength":1},"userRole":{"type":"string","enum":["ADMIN","USER"]}},"required":["name","userRole","username"]},"TaskUpdateDto":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]},"dueDate":{"type":"string","format":"date"}},"required":["id"]},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Task":{"type":"object","properties":{"createdBy":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedBy":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int32"},"name":{"type":"string","minLength":1},"description":{"type":"string"},"status":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]},"dueDate":{"type":"string","format":"date-time"},"assignedUsers":{"type":"array","items":{"$ref":"#/components/schemas/User"},"uniqueItems":true}},"required":["name","status"]},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string","minLength":1},"username":{"type":"string","minLength":1},"password":{"type":"string","maxLength":2147483647,"minLength":6,"writeOnly":true},"userRole":{"type":"string","enum":["ADMIN","USER"]},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"enabled":{"type":"boolean"}},"required":["name","password","userRole","username"]},"TaskCreateDto":{"type":"object","properties":{"name":{"type":"string","minLength":1},"description":{"type":"string"},"status":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]},"dueDate":{"type":"string","format":"date"}},"required":["name","status"]},"AssignUsersRequest":{"type":"object","properties":{"userIds":{"type":"array","items":{"type":"integer","format":"int32"}}}},"AuthRequest":{"type":"object","properties":{"username":{"type":"string","minLength":1},"password":{"type":"string","maxLength":2147483647,"minLength":6}},"required":["password","username"]},"AuthResponse":{"type":"object","properties":{"username":{"type":"string"},"token":{"type":"string"}}},"PageTask":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Task"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}